<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIP - Proyecto Individual</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="/Feed_Proyectos.css">
</head>
<body>
  <div class="main-container">
    <!-- Header -->
    <header class="header">
      <img src="/img/logo.png" alt="SIP Logo" class="logo-header">
      <nav class="nav-header">
        <a href="/feed-proyectos"><i class="fa-solid fa-layer-group"></i> Proyectos</a>
        <a href="#" id="notificaciones-btn"><i class="fa-regular fa-bell"></i> Notificaciones</a>
        <div class="user-info" id="perfil-btn">
          <span class="user-avatar">D</span>
          <span class="user-name">Daniela</span>
        </div>
      </nav>
      <div id="notificaciones-popover" class="notificaciones-popover">
        <div class="notificaciones-arrow"></div>
        <h3>Notificaciones</h3>
        <div class="notificacion-item">
          <span class="notif-avatar">A</span>
          <div>
            <strong>Respondi贸 tu publicaci贸n</strong>
            <div class="notif-text">Te dare varias ideas para tu proyecto...</div>
          </div>
        </div>
      </div>
    </header>

    <!-- MODAL SUBIR PROYECTO -->
    <div id="modal-subir-proyecto" class="modal-publicacion" style="display:none;">
      <div class="modal-content">
        <h2>Subir Proyecto</h2>
        <form id="form-subir-proyecto" enctype="multipart/form-data">
          <input type="hidden" name="user_id" id="user_id">
          
          <input type="text" name="titulo" placeholder="T铆tulo..." required />
          <textarea name="descripcion" placeholder="Ingrese la descripci贸n..." required></textarea>
          
          <select name="programa" id="select-programa" required style="width:100%; padding:12px; margin-bottom:18px; border:1.5px solid #3ec9a7; border-radius:12px;">
            <option value="">Selecciona tu programa</option>
            <option value="Tecn贸logo en An谩lisis y Desarrollo de Software">Tecn贸logo en An谩lisis y Desarrollo de Software</option>
            <option value="Tecn贸logo en Animaci贸n Digital">Tecn贸logo en Animaci贸n Digital</option>
          </select>
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">Agrega maximo 5 imagenes...</div>
          <input type="file" name="imagenes" accept="image/*" multiple style="margin-bottom:10px;">
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">
            Agrega documentaci贸n (PDF)...
          </div>
          <input type="file" name="documento_pdf" id="pdf-doc" accept="application/pdf" style="display:none;">
          <label for="pdf-doc" class="pdf-label">Seleccionar PDF</label>
          <span id="pdf-name"></span>
          <div id="pdf-preview" style="margin-bottom:10px;"></div>
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">Agrega enlace de Github (Codigo)...</div>
          <input type="url" name="github_url" placeholder="https://github.com/usuario/proyecto" />
          
          <div class="modal-btns">
            <button type="submit" id="btn-publicar" class="btn-modal">Publicar</button>
            <button type="button" id="btn-cancelar" class="btn-modal cancelar">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- MODAL EDITAR PROYECTO -->
    <div id="modal-editar-proyecto" class="modal-publicacion" style="display:none;">
      <div class="modal-content">
        <h2>Editar Proyecto</h2>
        <form id="form-editar-proyecto" enctype="multipart/form-data">
          <input type="hidden" name="user_id" id="edit_user_id">
          <input type="hidden" name="proyecto_id" id="edit_proyecto_id">
          
          <input type="text" name="titulo" id="edit_titulo" placeholder="T铆tulo..." required />
          <textarea name="descripcion" id="edit_descripcion" placeholder="Ingrese la descripci贸n..." required></textarea>
          
          <select name="programa" id="edit_programa" required style="width:100%; padding:12px; margin-bottom:18px; border:1.5px solid #3ec9a7; border-radius:12px;">
            <option value="">Selecciona tu programa</option>
            <option value="Tecn贸logo en An谩lisis y Desarrollo de Software">Tecn贸logo en An谩lisis y Desarrollo de Software</option>
          </select>
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">Agrega maximo 5 imagenes...</div>
          <input type="file" name="imagenes" id="edit_imagenes" accept="image/*" multiple style="margin-bottom:10px;">
          <div id="edit_imagenes_actuales" style="margin-bottom:10px;"></div>
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">
            Agrega documentaci贸n (PDF)...
          </div>
          <input type="file" name="documento_pdf" id="edit_pdf-doc" accept="application/pdf" style="display:none;">
          <label for="edit_pdf-doc" class="pdf-label">Seleccionar PDF</label>
          <span id="edit_pdf-name"></span>
          <div id="edit_pdf-preview" style="margin-bottom:10px;"></div>
          <div id="edit_pdf_actual" style="margin-bottom:10px;"></div>
          
          <div style="margin-bottom:10px; text-align:left; color:#444; font-weight:500;">Agrega enlace de Github (Codigo)...</div>
          <input type="url" name="github_url" id="edit_github_url" placeholder="https://github.com/usuario/proyecto" />
          
          <div class="modal-btns">
            <button type="submit" id="btn-actualizar" class="btn-modal">Actualizar</button>
            <button type="button" id="btn-cancelar-edicion" class="btn-modal cancelar">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <!--  MODAL REPORTAR PROYECTO (NUEVO) -->
    <div id="modal-reportar-proyecto" class="modal-publicacion" style="display:none;">
      <div class="modal-content">
        <h2>Reportar Proyecto</h2>
        <p style="color:#666; font-size:0.95rem; margin-bottom:20px;">
          Ay煤danos a mantener una comunidad segura. Tu reporte ser谩 revisado por un administrador.
        </p>
        
        <select id="motivo-reporte-proyecto" style="width:100%; border:1.5px solid #3ec9a7; border-radius:12px; padding:10px; margin-bottom:15px; font-size:1rem;">
          <option value="">Seleccione un motivo</option>
          <option value="Contenido inapropiado">Contenido inapropiado</option>
          <option value="Spam o publicidad">Spam o publicidad</option>
          <option value="Informaci贸n falsa">Informaci贸n falsa</option>
          <option value="Plagio">Plagio</option>
          <option value="Lenguaje ofensivo">Lenguaje ofensivo</option>
          <option value="Otro">Otro</option>
        </select>
        
        <textarea id="descripcion-reporte-proyecto" placeholder="Describe brevemente el problema (opcional)..." style="width:100%; border:1.5px solid #3ec9a7; border-radius:12px; padding:10px; font-size:1rem; min-height:80px; resize:vertical; margin-bottom:15px;"></textarea>
        
        <div class="modal-btns">
          <button id="btn-enviar-reporte-proyecto" class="btn-modal reportar-btn">Enviar Reporte</button>
          <button id="btn-cancelar-reporte-proyecto" class="btn-modal cancelar">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- Men煤 Popover de Usuario -->
    <div id="popover-menu" class="popover-menu">
      <div class="popover-arrow"></div>
      <div class="popover-content">
        <ul class="popover-list">
          <li><span class="icon"><i class="fa-regular fa-user"></i></span><span>Perfil</span></li>
          <li><span class="icon"><i class="fa-solid fa-gear"></i></span><span>Configuraci贸n</span></li>
          <li><span class="icon"><i class="fa-regular fa-star"></i></span><span>Favoritos</span></li>
          <li><span class="icon"><i class="fa-regular fa-circle-question"></i></span><span>Ayuda</span></li>
        </ul>
        <form action="/api/logout" method="POST" id="logoutForm">
          <input type="hidden" name="user_id" id="user_id">
          <button type="submit" class="logout-btn" id="logoutBtn">Cerrar sesi贸n</button>
        </form>
      </div>
    </div>

    <main class="proyectos-main">
      <!-- Panel de filtros -->
      <aside class="filtros">
        <button class="btn-subir" type="button">Subir proyecto</button>
<form class="filtros-form" id="form-filtros">
  <input type="text" id="input-busqueda" name="keyword" placeholder="Buscar por palabra clave">
  
  <select name="programa">
    <option value="">Todos los programas</option>
    <option value="Tecn贸logo en An谩lisis y Desarrollo de Software">Tecn贸logo en An谩lisis y Desarrollo de Software</option>
    <option value="Tecn贸logo en Animaci贸n Digital">Tecn贸logo en Animaci贸n Digital</option>
  </select>
  
  <input type="date" id="input-fecha" name="fecha" placeholder="dd/mm/aaaa">
</form>
        <button class="btn-limpiar" type="button">Limpiar Filtros</button>
      </aside>

      <!-- Lista de proyectos -->
      <section class="proyectos-lista" id="proyectos-lista">
        <!-- Los proyectos se cargar谩n din谩micamente aqu铆 -->
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <hr class="footer-line">
        <div class="footer-icons">
          <i class="fab fa-twitter"></i>
          <i class="fab fa-facebook"></i>
          <i class="fab fa-instagram"></i>
        </div>
        <hr class="footer-line">
      </div>
      <div class="footer-text">
        Copyright 漏 2025 SENA INTERACTIVE PORTAL
      </div>
      <div class="footer-links">
        <span>Informaci贸n legal</span>
        <span>Pol铆tica de privacidad</span>
      </div>
    </footer>
  </div>

<script src="/JS/feed-proyectos.js"></script>
<script>
  // Redirecci贸n del logo
  document.addEventListener('DOMContentLoaded', function() {
    const logoHeader = document.querySelector('.logo-header');
    if (logoHeader) {
      logoHeader.style.cursor = 'pointer';
      logoHeader.addEventListener('click', function() {
        window.location.href = '/publicaciones';
      });
    }
  });
</script>
</html>