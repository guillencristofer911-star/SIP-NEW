<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIP - Detalles del Proyecto</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="/Detalles_Proyectos.css">
</head>
<body>
  <div class="main-container">
    <!-- Header -->
    <header class="header">
      <img src="/img/logo.png" alt="SIP Logo" class="logo-header">
      <nav class="nav-header">
        <a href="/feed-proyectos"><i class="fa-solid fa-layer-group"></i> Proyectos</a>
        <a href="#" id="notificaciones-btn"><i class="fa-regular fa-bell"></i> Notificaciones</a>
        <div class="user-info" id="perfil-btn">
          <span class="user-avatar">D</span>
          <span class="user-name">Daniela</span>
        </div>
      </nav>
      <!-- Notificaciones Popover -->
      <div id="notificaciones-popover" class="notificaciones-popover">
        <div class="notificaciones-arrow"></div>
        <h3>Notificaciones</h3>
        <div class="notificacion-item">
          <span class="notif-avatar">A</span>
          <div>
            <strong>Respondió tu publicación</strong>
            <div class="notif-text">Te dare varias ideas para tu proyecto...</div>
          </div>
        </div>
        <div class="notificacion-item">
          <span class="notif-avatar">J</span>
          <div>
            <strong>Respondió tu publicación</strong>
            <div class="notif-text">Te dare varias ideas para tu proyecto...</div>
          </div>
        </div>
        <div class="notificacion-item">
          <span class="notif-avatar">D</span>
          <div>
            <strong>Respondió tu respuesta</strong>
            <div class="notif-text">Muchas gracias me sirvió mucho, sig...</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Menú Popover de Usuario -->
    <div id="popover-menu" class="popover-menu">
      <div class="popover-arrow"></div>
      <div class="popover-content">
        <ul class="popover-list">
          <li>
            <span class="icon">
              <i class="fa-regular fa-user"></i>
            </span>
            <span>Perfil</span>
          </li>
          <li>
            <span class="icon">
              <i class="fa-solid fa-gear"></i>
            </span>
            <span>Configuración</span>
          </li>
          <li>
            <span class="icon">
              <i class="fa-regular fa-star"></i>
            </span>
            <span>Favoritos</span>
          </li>
          <li>
            <span class="icon">
              <i class="fa-regular fa-circle-question"></i>
            </span>
            <span>Ayuda</span>
          </li>
        </ul>
        <button class="logout-btn" id="logoutBtn">Cerrar sesión</button>
      </div>
    </div>

    <main class="detalle-main">
      <!-- Información principal del proyecto -->
      <section class="detalle-proyecto-card">
        <div class="detalle-img">
          <img id="imagen-principal" src="/img/placeholder-proyecto.png" alt="Imagen del proyecto">
        </div>
        <div class="detalle-info">
          <h2 class="detalle-titulo" id="proyecto-titulo">Cargando proyecto...</h2>
          <div class="detalle-autor" id="proyecto-autor">Cargando autor...</div>
          <div class="detalle-desc" id="proyecto-descripcion">
            Cargando descripción del proyecto...
          </div>
          <div class="detalle-meta">
            <div class="meta-item">
              <i class="fas fa-graduation-cap"></i>
              <span id="proyecto-programa">Cargando programa...</span>
            </div>
            <div class="meta-item">
              <i class="fab fa-github"></i>
              <span id="proyecto-github">GitHub no disponible</span>
            </div>
            <div class="meta-item">
              <i class="far fa-calendar"></i>
              <span id="proyecto-fecha">Cargando fecha...</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Galería de imágenes -->
      <section class="detalle-galeria" id="galeria-proyecto">
        <h3>Galería del Proyecto</h3>
        <div class="galeria-contenedor" id="galeria-contenedor">
          <!-- Las imágenes se cargarán dinámicamente aquí -->
        </div>
      </section>

      <!-- Documentación PDF -->
      <section class="detalle-documentacion" id="seccion-documentacion" style="display: none;">
        <h3>Documentación</h3>
        <div class="documento-item">
          <i class="far fa-file-pdf"></i>
          <a id="enlace-pdf" href="#" target="_blank">Ver documentación PDF</a>
        </div>
      </section>

      <!-- Comentarios -->
      <section class="detalle-comentarios">
        <h3>Comentarios</h3>
        
        <!-- Formulario para nuevo comentario -->
        <div class="nuevo-comentario">
          <textarea id="texto-comentario" placeholder="Escribe tu comentario... (máximo 100 caracteres)"></textarea>
          <div class="contador-caracteres">
            <span id="contador">0</span>/100 caracteres
          </div>
          <button id="btn-publicar-comentario" class="btn-comentar">Publicar comentario</button>
        </div>

        <!-- Lista de comentarios -->
        <div id="lista-comentarios">
          <!-- Los comentarios se cargarán dinámicamente aquí -->
        </div>
      </section>
    </main>

    <!-- Modal Editar Comentario -->
    <div id="modal-editar-comentario" class="modal-publicacion" style="display:none;">
      <div class="modal-content">
        <h2>Editar Comentario</h2>
        <form id="form-editar-comentario">
          <input type="hidden" id="edit_comentario_id">
          <textarea id="editar-comentario-texto" placeholder="Escribe tu comentario..." maxlength="100"></textarea>
          <div class="contador-caracteres">
            <span id="edit-contador">0</span>/100 caracteres
          </div>
          <div class="modal-btns">
            <button type="submit" id="btn-editar-comentario-publicar" class="btn-modal">Actualizar</button>
            <button type="button" id="btn-editar-comentario-cancelar" class="btn-modal cancelar">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal Reportar Comentario -->
    <div id="modal-reportar-comentario" class="modal-publicacion" style="display:none;">
      <div class="modal-content">
        <h2 style="color:#184C3A; font-size:1.3em; text-align:center; margin-bottom:18px;">Motivo de su reporte</h2>
        <select id="motivo-reporte" style="width:100%; border:1.5px solid #184C3A; border-radius:8px; padding:8px; margin-bottom:18px; font-size:1em; color:#184C3A; background:#f8fbfa;">
          <option value="" disabled selected>Seleccione su motivo...</option>
          <option value="spam">Spam</option>
          <option value="ofensivo">Contenido ofensivo</option>
          <option value="fuera-tema">Fuera de tema</option>
          <option value="otro">Otro</option>
        </select>
        <div class="modal-btns">
          <button id="btn-reportar-comentario" class="btn-modal reportar-btn">Reportar</button>
          <button id="btn-cancelar-reporte" class="btn-modal cancelar">Cancelar</button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-content">
        <hr class="footer-line">
        <div class="footer-icons">
          <i class="fab fa-twitter"></i>
          <i class="fab fa-facebook"></i>
          <i class="fab fa-instagram"></i>
        </div>
        <hr class="footer-line">
      </div>
      <div class="footer-text">
        Copyright © 2025 SENA INTERACTIVE PORTAL
      </div>
      <div class="footer-links">
        <span>Información legal</span>
        <span>Política de privacidad</span>
      </div>
    </footer>
  </div>

  <script src="/JS/detalles_proyecto.js"></script>
</body>
</html>